<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="../assets/img/tea-bag.png" type="image/x-icon" />
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet" />
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
  <link href="./assets/vendor/aos/aos.css" rel="stylesheet" />
  <link href="../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
  <link href="../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" /> 
  <link href="../assets/css/main.css" rel="stylesheet" />
  <title>Tea Classification | TeaPot</title>
  <style>
    .region-map {
      position: relative;
      margin-top: 20px;
    }
    .region-marker {
      position: absolute;
      width: 15px;
      height: 15px;
      background-color: #e74c3c;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.3); }
      100% { transform: translate(-50%, -50%) scale(1); }
    }
    .upload-area {
      border: 2px dashed #dee2e6;
      border-radius: 8px;
      padding: 2rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }
    .upload-area:hover {
      border-color: #0d6efd;
      background-color: #f8f9fa;
    }
    .analyze-button {
      background-color: #0d6efd;
      color: white;
      border: none;
      padding: 10px 25px;
      border-radius: 5px;
      font-weight: 500;
      transition: all 0.3s;
    }
    .analyze-button:hover {
      background-color: #0b5ed7;
    }
    .characteristics-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    .characteristic {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .char-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.25rem;
    }
    .bg-cyan { background-color: #0dcaf0; }
    .bg-orange { background-color: #fd7e14; }
    .bg-teal { background-color: #20c997; }
    .bg-pink { background-color: #d63384; }
    .flavor-meter {
      height: 8px;
      background-color: #e9ecef;
      border-radius: 4px;
      margin-top: 5px;
    }
    .flavor-level {
      height: 100%;
      border-radius: 4px;
      background-color: #0d6efd;
    }
  </style>
</head>
<body class="index-page">
  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">
      <a href="index.html" class="logo d-flex align-items-center me-auto"> 
        <img src="../assets/img/tea-bag.png" alt="" /> 
        <h1 class="sitename">TeaPot</h1> 
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="map.html">About</a></li>
          <li><a href="model.html" class="active">Tea Classifier</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

      <a class="btn-getstarted flex-md-shrink-0" href="./model.html">Get Started</a>
    </div>
  </header>

  <main class="main">
    <!-- Classification Hero Section -->
    <section id="classification-hero" class="hero section">
      <div class="container">
        <div class="row gy-4">
          <div class="col-lg-6 order-2 order-lg-1 d-flex flex-column justify-content-center">
            <h1 data-aos="fade-up">AI-Powered Tea Classification</h1>
            <p data-aos="fade-up" data-aos-delay="100"> 
              Our advanced machine learning model analyzes sensor data to identify tea origin, quality, and characteristics.
            </p>
          </div>
          <div class="col-lg-6 order-1 order-lg-2 hero-img" data-aos="zoom-out">
            <img src="../assets/img/tea.gif" class="img-fluid animated" alt="Tea Analysis"/>
          </div>
        </div>
      </div>
    </section>

    <!-- Classification Form Section -->
    <section id="classification" class="classification section pt-0">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Tea Sample Analysis</h2>
          <p>Enter your tea sample data for classification</p>
        </div>
        
        <ul class="nav nav-tabs mb-4" id="analysisTypeTab">
          <li class="nav-item">
            <a class="nav-link active" id="single-tab" data-bs-toggle="tab" href="#single">Single Sample</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="batch-tab" data-bs-toggle="tab" href="#batch">Batch Analysis</a>
          </li>
        </ul>

        <div class="tab-content">
          <div class="tab-pane fade show active" id="single">
            <div class="row justify-content-center">
              <div class="col-lg-10">
                <div class="classification-form card">
                  <div class="card-body p-4 p-md-5">
                    <form id="tea-classification-form">
                      <div class="text-center pb-4">
                        <h4 class="form-title">MOS Sensor Data</h4>
                        <p class="form-subtitle">Enter values from your metal oxide semiconductor sensors</p>
                      </div>
                      
                      <div class="row gy-3">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label for="sensor1">Sensor 1 (Aroma Compounds)</label>
                            <input type="number" step="0.01" class="form-control" id="sensor1" placeholder="Enter value (0-5V)" required>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label for="sensor2">Sensor 2 (Phenolic Content)</label>
                            <input type="number" step="0.01" class="form-control" id="sensor2" placeholder="Enter value (0-5V)" required>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label for="sensor3">Sensor 3 (Theaflavins)</label>
                            <input type="number" step="0.01" class="form-control" id="sensor3" placeholder="Enter value (0-5V)" required>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label for="sensor4">Sensor 4 (Terpenoids)</label>
                            <input type="number" step="0.01" class="form-control" id="sensor4" placeholder="Enter value (0-5V)" required>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <div class="form-group">
                            <label for="sensor5">Sensor 5 (Caffeine Level)</label>
                            <input type="number" step="0.01" class="form-control" id="sensor5" placeholder="Enter value (0-5V)" required>
                          </div>
                        </div>
                      </div>

                      <div class="text-center mt-4 mb-4">
                        <h4 class="form-title">Additional Parameters</h4>
                      </div>
                      
                      <div class="row gy-3">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label for="color">Leaf Color (RGB value)</label>
                            <input type="text" class="form-control" id="color" placeholder="e.g., 120,85,60" required>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label for="particle-size">Particle Size (mm)</label>
                            <input type="number" step="0.1" class="form-control" id="particle-size" placeholder="0.1-5.0 mm" required>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <div class="form-group">
                            <label for="sample-notes">Sample Notes</label>
                            <textarea class="form-control" id="sample-notes" rows="3" placeholder="Any additional observations"></textarea>
                          </div>
                        </div>
                      </div>

                      <div class="text-center mt-4">
                        <button type="submit" class="analyze-button">Analyze Sample</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="tab-pane fade" id="batch">
            <div class="row justify-content-center">
              <div class="col-lg-8">
                <div class="batch-upload card">
                  <div class="card-body p-4 p-md-5 text-center">
                    <div class="upload-area mb-4">
                      <i class="bi bi-cloud-arrow-up display-4 text-muted mb-3"></i>
                      <p class="mb-3">Drag & drop CSV file or click to browse</p>
                      <input type="file" id="batchFile" accept=".csv" hidden>
                      <button class="btn btn-outline-primary">Select File</button>
                    </div>
                    <div class="file-requirements" style="text-align: left;">
                      <h6>File Requirements:</h6>
                      <ul class="list-unstyled">
                        <li><i class="bi bi-check-circle-fill text-success me-2"></i>CSV format with header row</li>
                        <li><i class="bi bi-check-circle-fill text-success me-2"></i>Columns: Sensor1, Sensor2, Sensor3, Sensor4, Sensor5, Color, ParticleSize</li>
                        <li><i class="bi bi-check-circle-fill text-success me-2"></i>Max 100 samples per batch</li>
                        <li><i class="bi bi-x-circle text-danger me-2"></i>Any image file with any format</li>
                        <li><i class="bi bi-x-circle text-danger me-2"></i>Any JSON file including schema or not</li>
                        <li><i class="bi bi-x-circle text-danger me-2"></i>Any code file that contain data as JSON or any array format</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Results Section -->
    <section id="results" class="results section">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Classification Results</h2>
          <p>Detailed analysis of your tea sample</p>
        </div>

        <div class="row justify-content-center">
          <div class="col-lg-10">
            <div class="results-card card">
              <div class="card-body p-4 p-md-5">
                <div id="results-placeholder" class="text-center py-5">
                  <i class="bi bi-cup-hot results-icon display-1 text-muted"></i>
                  <h4 class="mt-3">Submit sample data to view analysis results</h4>
                  <p class="text-muted">Your tea classification will appear here</p>
                </div>

                <div id="results-content" style="display: none;">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="result-item">
                        <h4><i class="bi bi-geo-alt"></i> Origin Classification</h4>
                        <div class="progress mt-2 mb-3">
                          <div class="progress-bar bg-success" role="progressbar" style="width: 92%"></div>
                        </div>
                        <ul class="region-probabilities list-unstyled">
                          <li class="mb-2"><strong>Nuwara Eliya:</strong> 92% probability</li>
                          <li class="mb-2">Uva: 5% probability</li>
                          <li class="mb-2">Dimbula: 2% probability</li>
                          <li>Ruhuna: 1% probability</li>
                        </ul>
                      </div>

                      <div class="result-item mt-4">
                        <h4><i class="bi bi-star"></i> Quality Assessment</h4>
                        <div class="quality-rating">
                          <span class="badge bg-primary">Premium Grade</span>
                          <div class="stars mt-2">
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-fill text-warning"></i>
                            <i class="bi bi-star-half text-warning"></i>
                            <span class="ms-2">4.5/5</span>
                          </div>
                        </div>
                        <p class="mt-2">This sample exhibits characteristics of high-altitude grown tea with excellent flavor profile.</p>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="result-item">
                        <h4><i class="bi bi-flower1"></i> Tea Characteristics</h4>
                        <div class="characteristics-grid mt-3">
                          <div class="characteristic">
                            <div class="char-icon bg-cyan">
                              <i class="bi bi-thermometer-sun"></i>
                            </div>
                            <div class="char-details">
                              <h5>Oxidation Level</h5>
                              <p>Medium (65-70%)</p>
                            </div>
                          </div>
                          <div class="characteristic">
                            <div class="char-icon bg-orange">
                              <i class="bi bi-speedometer2"></i>
                            </div>
                            <div class="char-details">
                              <h5>Caffeine Content</h5>
                              <p>Moderate (3.2%)</p>
                            </div>
                          </div>
                          <div class="characteristic">
                            <div class="char-icon bg-teal">
                              <i class="bi bi-droplet"></i>
                            </div>
                            <div class="char-details">
                              <h5>Moisture Content</h5>
                              <p>Optimal (2.8%)</p>
                            </div>
                          </div>
                          <div class="characteristic">
                            <div class="char-icon bg-pink">
                                <i class="bi bi-hourglass-split"></i>
                            </div>
                            <div class="char-details">
                              <h5>Steep Time</h5>
                              <p>3-4 minutes</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="result-item mt-4">
                    <h4><i class="bi bi-journal-text"></i> Flavor Profile</h4>
                    <div class="flavor-profile mt-3">
                      <div class="flavor-attribute mb-3">
                        <label>Floral Notes</label>
                        <div class="flavor-meter">
                          <div class="flavor-level" style="width: 80%"></div>
                        </div>
                      </div>
                      <div class="flavor-attribute mb-3">
                        <label>Fruity Notes</label>
                        <div class="flavor-meter">
                          <div class="flavor-level" style="width: 45%"></div>
                        </div>
                      </div>
                      <div class="flavor-attribute mb-3">
                        <label>Woody Notes</label>
                        <div class="flavor-meter">
                          <div class="flavor-level" style="width: 30%"></div>
                        </div>
                      </div>
                      <div class="flavor-attribute">
                        <label>Briskness</label>
                        <div class="flavor-meter">
                          <div class="flavor-level" style="width: 75%"></div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="result-item mt-4">
                    <h4><i class="bi bi-graph-up"></i> Chemical Signature</h4>
                    <div class="chemical-signature-chart mt-3">
                      <canvas id="chemicalChart" height="300"></canvas>
                    </div>
                  </div>

                  <!-- <div class="result-item mt-4">
                    <h4><i class="bi bi-map"></i> Probable Growing Regions</h4>
                    <div class="region-map mt-3">
                      <img src="../assets/img/sri-lanka-tea-regions.jpg" alt="Sri Lanka Tea Regions" class="img-fluid rounded">
                      <div class="region-marker" style="top: 30%; left: 45%;" data-bs-toggle="tooltip" title="Nuwara Eliya (92%)"></div>
                      <div class="region-marker" style="top: 50%; left: 60%;" data-bs-toggle="tooltip" title="Uva (5%)"></div>
                    </div>
                  </div> -->
                  <!-- 
                  <div class="result-item mt-4">
                    <h4><i class="bi bi-map"></i> Probable Growing Regions</h4>
                    <div class="region-map mt-3 text-center">
                      <svg viewBox="0 0 800 1200" xmlns="C:\Users\Kaveesh\Documents\Research\Research\Activities\my-tea-pot-odor-classification\assets\img\sriLankaHigh.svg" class="img-fluid" style="max-width: 100%; height: auto;">

                        <path id="nuwara-eliya"
                              d="M300,500 L320,480 L340,500 L320,520 Z"
                              fill="#198754"
                              stroke="#000"
                              stroke-width="1"
                              data-bs-toggle="tooltip"
                              title="Nuwara Eliya (92%)" />
                        <path id="uva"
                              d="M400,600 L420,580 L440,600 L420,620 Z"
                              fill="#ffc107"
                              stroke="#000"
                              stroke-width="1"
                              data-bs-toggle="tooltip"
                              title="Uva (5%)" />
                      </svg>
                    </div>
                  </div>
                  -->
                  

                  <div class="result-actions text-center mt-4">
                    <button class="btn btn-outline-primary me-2"><i class="bi bi-download me-2"></i>Export Report</button>
                    <button class="btn btn-primary"><i class="bi bi-arrow-repeat me-2"></i>Analyze Another Sample</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer id="footer" class="footer">
    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="index.html" class="d-flex align-items-center"><span class="sitename">TeaPot</span></a>
          <div class="footer-contact pt-3">
            <p>University of Kelaniya</p>
            <p>Department of Computer Science</p>
            <p class="mt-3"><strong>Phone:</strong> <span>+94 71 234 5678</span></p>
            <p><strong>Email:</strong> <span>kaveesh@uok.ac.lk</span></p>
          </div>
        </div>
  
        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><i class="bi bi-chevron-right"></i> <a href="#">Home</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#">About Us</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#">Research</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#">Contact</a></li>
          </ul>
        </div>
  
        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Our Services</h4>
          <ul>
            <li><i class="bi bi-chevron-right"></i> <a href="#">AI Projects</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#">ML/DL Models</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#">QA Automation</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#">Web Apps</a></li>
          </ul>
        </div>
  
        <div class="col-lg-4 col-md-12">
          <h4>Follow Me</h4>
          <p>Stay connected through my socials below for project updates and more!</p>
          <div class="social-links d-flex">
            <a href="https://twitter.com/yourprofile" target="_blank"><i class="bi bi-twitter-x"></i></a>
            <a href="https://facebook.com/yourprofile" target="_blank"><i class="bi bi-facebook"></i></a>
            <a href="https://instagram.com/yourprofile" target="_blank"><i class="bi bi-instagram"></i></a>
            <a href="https://linkedin.com/in/kaveesh" target="_blank"><i class="bi bi-linkedin"></i></a>
          </div>
        </div>
      </div>
    </div>
  
    <div class="container copyright text-center mt-4">
      <p>
        Â© <span>Copyright</span>
        <strong class="px-1 sitename">Kaveesh</strong>
        <span>All Rights Reserved</span>
      </p>
      <div class="credits">
        Designed by <a href="#">Kaveesh</a> | Distributed by
        <a href="#">UOK - FOS | DSCS & DC</a>
      </div>
    </div>
  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center">
    <i class="bi bi-arrow-up-short"></i>
  </a>

  <!-- Vendor JS Files -->
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/vendor/aos/aos.js"></script>
  <script src="../assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Main JS File -->
  <script src="../assets/js/main.js"></script>

  <!-- Classification JS -->
  <script>
    document.getElementById('tea-classification-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Show loading state
      const placeholder = document.getElementById('results-placeholder');
      const results = document.getElementById('results-content');
      
      placeholder.innerHTML = `
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <h4 class="mt-3">Analyzing Sample...</h4>
      `;
      
      // Initialize chemical signature chart
      setTimeout(() => {
        const ctx = document.getElementById('chemicalChart').getContext('2d');
        new Chart(ctx, {
          type: 'radar',
          data: {
            labels: ['Theaflavins', 'Thearubigins', 'Caffeine', 'Linalool', 'Geraniol', 'Polyphenols'],
            datasets: [{
              label: 'Your Sample',
              data: [85, 72, 68, 55, 60, 78],
              backgroundColor: 'rgba(54, 162, 235, 0.2)',
              borderColor: 'rgba(54, 162, 235, 1)',
              pointBackgroundColor: 'rgba(54, 162, 235, 1)'
            }]
          },
          options: {
            scales: {
              r: {
                angleLines: { display: true },
                suggestedMin: 0,
                suggestedMax: 100
              }
            }
          }
        });
      }, 100);

      // Simulate API call to your ML model
      setTimeout(function() {
        placeholder.style.display = 'none';
        results.style.display = 'block';
        
        // Initialize tooltips
        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        tooltipTriggerList.map(function (tooltipTriggerEl) {
          return new bootstrap.Tooltip(tooltipTriggerEl);
        });
        
        // Scroll to results
        document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
      }, 2000);
    });
    
    // Reset form functionality
    document.querySelector('.btn-primary').addEventListener('click', function() {
      document.getElementById('tea-classification-form').reset();
      document.getElementById('results-placeholder').style.display = 'block';
      document.getElementById('results-content').style.display = 'none';
      document.getElementById('results-placeholder').innerHTML = `
        <i class="bi bi-cup-hot results-icon display-1 text-muted"></i>
        <h4 class="mt-3">Submit sample data to view analysis results</h4>
        <p class="text-muted">Your tea classification will appear here</p>
      `;
    });

    // File upload functionality
    document.querySelector('.upload-area').addEventListener('click', function() {
      document.getElementById('batchFile').click();
    });

    document.getElementById('batchFile').addEventListener('change', function(e) {
      if (this.files.length > 0) {
        const fileName = this.files[0].name;
        const uploadArea = document.querySelector('.upload-area');
        uploadArea.innerHTML = `
          <i class="bi bi-file-earmark-spreadsheet display-4 text-success mb-3"></i>
          <p class="mb-3">${fileName}</p>
          <button class="btn btn-success">Analyze Batch</button>
        `;
      }
    });
  </script>
</body>
</html>